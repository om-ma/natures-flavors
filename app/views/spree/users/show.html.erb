<!-- <div class="container account-page">
  <h3 class="text-uppercase spree-mb-large spree-mt-large spree-header"><%= accurate_title %></h3>

  <div class="row">
    <div class="col-xs-12 col-lg-4">
      <dt class="text-uppercase account-page-user-info-item-title">
        <%#= Spree.t(:account_info) %>
          <%#= link_to spree.edit_user_path(@user), class: "account-page-user-info-item-title-edit" do %>
          <%#= inline_svg_tag('edit.svg', width: 27.6, height: 24) %>
        <%# end %>
      </dt>
      <dd class="account-page-user-info-item-definition"><%= @user.email %></dd>

      <div class="d-lg-inline-block account-page-user-info-item-store-credits">
        <p class="my-0 text-uppercase text-center">
          <%#= Spree.t(:store_credit_name) %>
          <%# @user.available_store_credits(current_store).each do |value| %>
            <br><b class="account-page-user-info-item-store-credits-amount"><%#= value %></b>
          <%# end %>
        </p>
      </div>
    </div>
    <div class="col-xs-12 col-lg-8 mt-sm-5 mt-lg-0">
      <h4 class="mb-3"><%= link_to Spree.t(:add_new_address), spree.new_address_path, method: :get %></h4>
      <div class="row">
        <%# @user.addresses.each_with_index do |address, index| %>
          <div class="col-12 col-sm-6 mb-3">
            <%# index += 1 %>
            <%# if index % 3 == 0 %>
              <div class="account-page-user-info-item my-4"></div>
            <%# end %>
            <div class="row">
              <div class="col-8 col-lg-6">
                <%#= render "spree/users/address", address: address %>
              </div>
              <div class="col">
                <%#= render "spree/users/address_controls", address: address %>
              </div>
            </div>
          </div>
        <%# end %>
      </div>
    </div>
  </div>

  <div data-hook="account_my_orders" class="account-page-orders" id="account-my-orders">
    <h3 class="text-uppercase spree-mb-medium spree-mt-medium spree-header"><%= Spree.t(:my_orders) %></h3>
    <%# if @orders.present? %>
      <table>
        <thead class="active">
          <tr>
            <th class="text-uppercase text-secondary account-page-order-number"><%#= Spree::Order.human_attribute_name(:number) %></th>
            <th class="text-uppercase text-secondary account-page-order-date"><%#= Spree.t(:date) %></th>
            <th class="text-uppercase text-secondary account-page-order-status"><%#= Spree.t(:status) %></th>
            <th class="text-uppercase text-secondary account-page-order-payment-state"><%#= Spree.t(:payment_state) %></th>
            <th class="text-uppercase text-secondary account-page-order-shipment-state"><%#= Spree.t(:shipment_state) %></th>
            <th class="text-uppercase text-secondary account-page-order-total"><%#= Spree.t(:total) %></th>
          </tr>
        </thead>
        <tbody>
          <%# @orders.each do |order| %>
            <tr>
              <td class="account-page-order-number"><%#= link_to order.number, spree.order_path(order), class: "text-primary" %></td>
              <td class="account-page-order-date"><%#= l order.completed_at.to_date %></td>
              <td class="account-page-order-status"><%#= Spree.t("order_state.#{order.state}").titleize %></td>
              <td class="account-page-order-payment-state"><%#= Spree.t("payment_states.#{order.payment_state}").titleize if order.payment_state %></td>
              <td class="account-page-order-shipment-state"><%#= Spree.t("shipment_states.#{order.shipment_state}").titleize if order.shipment_state %></td>
              <td class="account-page-text-primary account-page-order-total account-page-lead"><%#= order.display_total %></td>
              <td class="account-page-arrow-container" data-order-path="<%#= spree.order_path(order) %>">
                <%#= link_to '', spree.order_path(order), { class: "account-page-order-arrow" } %>
              </td>
            </tr>
          <%# end %>
        </tbody>
      </table>
    <%# else %>
      <p class="text-center"><%#= Spree.t(:you_have_no_orders_yet) %></p>
    <%# end %>
    <br>
  </div>
  <div id="delete-address-popup" class="delete-address-popup-dropdown hide-on-esc">
    <%#= render 'spree/shared/delete_address_popup' %>
  </div>
</div> -->
<main class="page-contents">
  <div class="account-wrapper">
    <div class="row no-gutters">
      <div class="col-xl-2 tablet-hide"></div>
      <div class="col-xl-7 col-lg-8">
        <div class="wrap">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item active">My Account</li>
          </ol>
          <div class="title-wrap mb-60">
            <h1 class="title"><%= accurate_title %> 
              <%= link_to  destroy_spree_user_session_path, :class => 'btn btn-primary' do %>
                LogOut 
              <% end %> 
            </h1>
            <div class="sm-title">Welcome to your account. Here you can manage all of your personal information and orders.</div>
          </div>
          <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item" role="presentation"><a class="nav-link active" data-toggle="tab" href="#orderHistory">Order History</a></li>
            <li class="nav-item" role="presentation"><a class="nav-link" data-toggle="tab" href="#personalInformation">Personal Information</a></li>
            <li class="nav-item" role="presentation"><a class="nav-link" data-toggle="tab" href="#myAddresses">My Addresses</a></li>
            <li class="nav-item" role="presentation"><a class="nav-link" data-toggle="tab" href="#myCards">My Cards</a></li>
          </ul>
          <div class="tab-content">
            <% if @orders.present? %>
              <div class="tab-pane fade show active" id="orderHistory" role="tabpanel">
                <div class="my-orders-wrapper">
                  <% @orders.each do |order| %>
                    <div class="order-row-wrap">
                        <div class="cart-icon tablet-hide"></div>
                        <div class="order-wrap d-flex flex-wrap align-items-center">
                          <div class="order-col flex-fill">
                            <label><%= Spree.t(:date) %></label>
                            <h5><%= l order.completed_at.to_date %></h5>
                          </div>
                          <div class="order-col flex-fill">
                            <label>Order #:</label>
                            <h5><%= order.number %></h5>
                          </div>
                          <div class="order-col flex-fill">
                            <label>Shipment #:</label>
                            <h5 class="shipment-text"><%#= Spree.t("shipment_states.#{order.shipment_state}").titleize if order.shipment_state %></h5>
                          </div>
                          <div class="order-col flex-fill">
                            <label><%= Spree.t(:status) %></label>
                            <h5 class="text-info"><%= Spree.t("order_state.#{order.state}").titleize %></h5>
                          </div>
                          <div class="order-col flex-fill">
                            <label><%= Spree.t(:total) %></label>
                            <h5><strong><%= order.display_total %></strong></h5>
                          </div>
                          <div class="order-action">
                            <button type="button" class="btn show-order-details">Action</button>
                          </div>
                        </div>
                        <div class="order-details-wrap">
                          <div class="wrap">
                            <div class="profile-order-summary-wrap">
                              <div class="profile-order-summary">
                                <h6>Shipping Details:</h6>
                                <p><% @user.addresses.each_with_index do |address, index| %>
                                      <%= render "spree/users/address", address: address %>
                                    <% end %></p>
                              </div>
                              <div class="profile-order-summary">
                                <h6>Billing Details:</h6>
                                <p><% @user.addresses.each_with_index do |address, index| %>
                                  <%= render "spree/users/account_address", address: address %>
                                <% end %></p>
                              </div>
                              <div class="profile-order-summary">
                                <h6>Payment Method:</h6>
                                <% if order.has_step?("payment") %>
                                   <% order.payments.valid.each do |payment| %>
                                    <% source = payment.source %>
                                    <% if source.is_a?(Spree::CreditCard) %>
                                    <% end %>
                                  <p> <%= content_tag(:span, payment.payment_method.name) %></p>
                                  <% end %>
                                <% end %>
                              </div>
                              <div class="profile-order-summary">
                                <h6>Shipping Method:</h6>
                                <p>
                                  <% order.shipments.valid.each do |shipment| %>
                                    <%= shipment.shipping_method&.name %>
                                  <% end %>
                                </p>
                              </div>
                            </div>
                            <div class="order-summary">
                              <% order.line_items.each do|s| %>
                                <% variant = s.variant %>
                                  <ul class="cart-items">
                                    <li class="cart-item">
                                      <%= link_to product_image(variant), spree.product_path(variant.product),class:'thumbnail' %> 
                                      <div class="cart-item-details d-flex flex-column justify-content-between">
                                        <h4><%= link_to s.name, spree.product_path(variant.product) %></h4>
                                        <div class="price-size text-right"><span><%= s.quantity %>x<%= s.single_money.to_html%></span><%= s.display_amount.to_html unless s.quantity.nil? %> </div>
                                      </div>
                                    </li>
                                  </ul>
                                <% end %>
                              <ul class="cart-totals">
                                <li>
                                  <label>Shipping:</label>
                                  <% shipping_total = Spree::Money.new(order.shipments.to_a.sum(&:cost), currency: order.currency) %>
                                  <span><%= shipping_total.to_html %></span> </li>
                                <li>
                                  <label>Total:</label>
                                  <strong><%= order.display_total.to_html %></strong> </li>
                              </ul>
                            </div>
                          </div>
                        </div>
                    </div>
                  <% end %>
                </div>
              </div>
            <% end %>
            <%= render partial: 'personal_information' %>
            <div class="tab-pane fade" id="myAddresses" role="tabpanel">
              <div class="addresses-wrapper">
                <div class="row narrow-row">
                  <div class="col-md-6">
                    <div class="address-wrap default">
                      <h5>Default</h5>
                      <p>Penelope Martines<br>
                        22246 Perth Way, Lake Forest<br>
                        California, United States<br>
                        92630</p>
                        <div onclick=""><strong>Edit</strong></div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="address-wrap"> <a href="#" class="btn btn-text">Make Default</a>
                      <p>Penelope Martines<br>
                        22246 Perth Way, Lake Forest<br>
                        California, United States<br>
                        92630</p>
                      <div onclick=""><strong>Edit</strong></div>
                    </div>
                  </div>
                </div>
                <div class="add-edit-form">
                  <h5>Add/Edit New Address</h5>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="First Name*">
                        <label>First Name*</label>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Last Name*">
                        <label>Last Name*</label>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Address*">
                        <label>Address*</label>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Address Line 2">
                        <label>Address Line 2</label>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group form-floating mb-20">
                        <select class="custom-select">
                          <option>United States</option>
                        </select>
                        <label>Country*</label>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group form-floating mb-20">
                        <select class="custom-select">
                          <option>California</option>
                        </select>
                        <label>State*</label>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="City*">
                        <label>City*</label>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Zip Code*">
                        <label>Zip Code*</label>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Phone Number*">
                        <label>Phone Number*</label>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="custom-checkbox mb-30">
                        <label>
                          <input type="checkbox" class="custom-control-input" checked>
                          <span class="custom-control-label"></span>Save as Default</label>
                      </div>
                    </div>
                  </div>
                  <button type="button" class="btn btn-primary">Add Address</button>
                  <button type="button" class="btn btn-text">Delete This Address</button>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="myCards" role="tabpanel">
              <div class="cards-wrapper">
                <div class="row narrow-row">
                  <div class="col-md-6">
                    <div class="card-wrap default">
                      <h5>Default</h5>
                      <p>Penelope Martines<br>
                        4345 **** **** 3243</p>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="card-wrap"> <a href="#" class="btn btn-text">Make Default</a>
                      <p>Penelope Martines<br>
                        4345 **** **** 3243</p>
                    </div>
                  </div>
                </div>
                <div class="add-edit-form">
                  <h5>Add New Card</h5>
                  <div class="row">
                    <div class="col-md-12">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Name on card*">
                        <label>Name on card*</label>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Card number*">
                        <label>Card number*</label>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Expiration*">
                        <label>Expiration*</label>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group form-floating mb-20">
                        <input type="text" class="form-control" placeholder="Security Code (CVV)*">
                        <label>Security Code (CVV)*</label>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="custom-checkbox mb-15">
                        <label>
                          <input type="checkbox" class="custom-control-input" checked>
                          <span class="custom-control-label"></span>Save Card as Default</label>
                      </div>
                    </div>
                  </div>
                  <button type="button" class="btn btn-primary">Add Card</button>
                  <button type="button" class="btn btn-text">Delete This Card</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-lg-4">
        <div class="wishlist">
          <h3>Wishlist</h3>
          <div class="cart-similar-item mb-20">
            <div class="wrap">
              <p>You might need this:</p>
              <div class="similar-item-thumb"><%= image_tag "product-thumb-1.jpg", alt:"product thumbnail" %></div>
              <h4><a href="#">Acorn Flavored Powder, Natural (8 oz.)</a></h4>
              <a href="#" class="btn btn-primary">$14.70 - Add to Cart</a> <%= image_tag "heart.svg", alt:"" %> </div>
          </div>
          <div class="cart-similar-item mb-20">
            <div class="wrap">
              <p>You might need this:</p>
              <div class="similar-item-thumb"><%= image_tag "product-thumb-1.jpg", alt:"product thumbnail" %></div>
              <h4><a href="#">Acorn Flavored Powder, Natural (8 oz.)</a></h4>
              <a href="#" class="btn btn-primary">$14.70 - Add to Cart</a> <%= image_tag "heart.svg", alt:"" %> </div>
          </div>
          <div class="cart-similar-item mb-20">
            <div class="wrap">
              <p>You might need this:</p>
              <div class="similar-item-thumb"><%= image_tag "product-thumb-1.jpg", alt:"product thumbnail" %></div>
              <h4><a href="#">Acorn Flavored Powder, Natural (8 oz.)</a></h4>
              <a href="#" class="btn btn-primary">$14.70 - Add to Cart</a><%= image_tag "heart.svg", alt:"" %> </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<script>
  AOS.init();
</script> 

<!-- For mobile menu --> 
<script>
  const slinky = $('#menu').slinky({title:true});
</script> 

<!-- Bootstrap popver --> 
<script>
  $(function () {
    $('[data-toggle="popover"]').popover();
  })
</script> 
<script>
  $('.close-menu').on('click', function(e) {
    $('.mobile-menu').toggleClass("show");
    e.preventDefault();
  });
</script> 
<script>
  $('.sub-menu > li').click(function(e){
    e.stopPropagation();
	$(this).toggleClass('active');
    $(this).children('div').slideToggle();
    $(this).closest('.parent').siblings().children('div').slideUp();
  });
</script> 
<script>
  $(document).ready(function() {
    $('#videos-slider').lightSlider({
        item: 2,
        loop: false,
        slideMove: 1,
        easing: 'cubic-bezier(0.25, 0, 0.25, 1)',
        speed: 600,
		slideMargin: 120,
		enableTouch: true,
		pager: false,
		onSliderLoad: function (el) {
		  var parent = el.parent();
		  var action = parent.find('.lSAction');
		  action.insertBefore(parent);
	    },
        responsive : [
        {
          breakpoint:1199,
          settings: {
            slideMargin: 40,
          }
        },
        {
          breakpoint:991,
          settings: {
            item:2,
            slideMove:1,
            slideMargin: 30
          }
        },
        {
          breakpoint:575,
          settings: {
            item:1,
            slideMargin:20
          }
        }
      ]
    });
  });
</script> 
<script>
  $(document).ready(function() {
    $('#blog-slider').lightSlider({
        item: 2,
        loop: false,
        slideMove: 1,
        easing: 'cubic-bezier(0.25, 0, 0.25, 1)',
        speed: 600,
		slideMargin: 120,
		enableTouch: true,
		pager: false,
        onSliderLoad: function (el) {
		  var parent = el.parent();
		  var action = parent.find('.lSAction');
		  action.insertBefore(parent);
	    },
        responsive : [
        {
          breakpoint:1199,
          settings: {
            slideMargin: 40,
          }
        },
        {
          breakpoint:991,
          settings: {
            item: 2,
            slideMove: 1,
            slideMargin: 30
          }
        },
        {
          breakpoint:575,
          settings: {
            item: 1,
            slideMargin: 20
          }
        }
      ]
    });
  });  
</script> 
<script>
  $(document).ready(function() {
    $('#reviews-slider').lightSlider({
        item: 3,
        loop: false,
        slideMove: 1,
        easing: 'cubic-bezier(0.25, 0, 0.25, 1)',
        speed: 600,
		slideMargin: 0,
		enableTouch: true,
		pager: false,
        onSliderLoad: function (el) {
		  var parent = el.parent();
		  var action = parent.find('.lSAction');
		  action.insertBefore(parent);
	    },
        responsive : [
        {
          breakpoint:1199,
          settings: {
            item: 2,
            slideMove: 1,
          }
        },
        {
          breakpoint:767,
          settings: {
            item: 1,
            slideMove: 1,
          }
        }
      ]
    });
  });  
</script> 
<script>
  $('.nav-cart').on('click', function(e) {
    $('.nav-search').removeClass('active');
    $('.mobile-search-menu').removeClass('active');
    $('.mobile-menu').removeClass('show');
    $('.sidebar-menu-wrapper .overlay').removeClass('active');
    // actual function
    $('.mobile-menu-link').addClass('collapsed');
    $('.cart-sidebar').toggleClass("active");
    $('.nav-cart').toggleClass("active");
    $('.cart-sidebar-wrapper .overlay').toggleClass("active");
    $('body').removeClass("hide-scroll");
  e.preventDefault();
  });
    
  $('.close-sidebar-btn').on('click', function(e) {
    $('.nav-cart').toggleClass("active");
    $('.cart-sidebar').toggleClass("active");
    $('.cart-sidebar-wrapper .overlay').toggleClass("active");
    $('body').removeClass("hide-scroll");
  e.preventDefault();
  });
    
  $('.cart-sidebar-wrapper .overlay').on('click', function(e) {
    $('.nav-cart').toggleClass("active");
    $('.cart-sidebar').toggleClass("active");
    $('.cart-sidebar-wrapper .overlay').toggleClass("active");
    $('body').removeClass("hide-scroll");
  e.preventDefault();
  });
</script> 
<script>
  $('.mobile-menu-link').on('click', function(e) {
    $('.nav-search').removeClass('active');
    $('.mobile-search-menu').removeClass('active');
    $('.nav-cart').removeClass('active');
    $('.cart-sidebar').removeClass('active');
    $('.cart-sidebar-wrapper .overlay').removeClass('active');
    $('body').removeClass("hide-scroll");
  });
</script> 
<script>
  $('.nav-search').on('click', function(e) {
    if($('.nav-cart').hasClass('active')){
      $('.nav-cart').removeClass('active');
    }
    if($('.cart-sidebar').hasClass('active')){
      $('.cart-sidebar').removeClass('active');
    }
    if($('.cart-sidebar-wrapper .overlay').hasClass('active')){
      $('.cart-sidebar-wrapper .overlay').removeClass('active');
    }
    if($('.mobile-menu').hasClass('show')){
      $('.mobile-menu').removeClass('show');
    }
    $('.mobile-menu-link').addClass('collapsed');
    $('.mobile-search-menu').toggleClass("active");
    $('.nav-search').toggleClass("active");
  e.preventDefault();
  });
</script> 
<script>
jQuery(document).ready(function() {
  jQuery('.show-order-details').click(function(event) {
    jQuery(event.target).closest('.order-row-wrap').toggleClass('show');
  });
});	
</script>