<% cache cache_key_for_product_wihtout_version(product) do %>
<% url = spree.product_path(product, taxon_id: @taxon&.id) %>
<div class="col col-12">
  <div class="product-wrap" id="product_<%= product.id %>" data-hook="products_list_item">
    <%= link_to url, data: { turbolinks: false } do %>
      <div class="product-img">
        <%= plp_and_carousel_image(product, image_class) %>
        <div class="price">
          <% if product&.sale_prices&.active&.present? %>
            <span><%= display_original_price(product.lowest_sale_price.price.variant) %></span><%= product.lowest_sale_price.display_price %>
          <% else %>
            <%= display_price(product) %>
          <% end %>  
        </div>
      </div>
      <div class="product-desc" title="<%= product.name %>" ><% if product&.sale_prices&.active&.present? %><span class="ending-badge"><%= display_highest_discount_percent(product) %></span><% end %>
        <h4> <%= product.name %></h4>
      </div>
    <% end %>
  </div>
</div>
<% end %>